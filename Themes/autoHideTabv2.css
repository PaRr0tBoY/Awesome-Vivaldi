/* ========================================
   AUTO-HIDE TABBAR
   ======================================== */

/* Main Tabbar*/

/* Adjust hide animation and width of main tabbar here */
/* I set its width very small since I think this has more of a "hidden" vibe,
and I figure people may want to focus more on sub-stack when they're working on a certain subject
with a tab-stack. Which is why we need tab-stack no? */
#tabs-container.right,
#tabs-container.left {
  min-width: 7px !important;
  max-width: 7px !important;
  /* min and max width of main tabbar should not set lower than 6px, which will cause weird issue. */
  margin-top: -6px; /*You might not want this*/
  transition: min-width 240ms ease-in !important;
  transition-delay: 0ms !important;
  border-radius: 6px;
  background-color: rgba(25, 30, 25, 0.9) !important;
  /*I am the first code block*/
}

/* Adjust expand animation and width of main tabbar here */
#tabs-container.left:hover,
#tabs-container.right:hover {
  min-width: 300px !important;
  transition: min-width 150ms ease-out !important;
  transition-delay: 0ms !important; /*300ms*/
  border-radius: 6px;
}

/* SubStack / Secondary Tabbar */

/* Adjust hide animation and width of Secondary tabbar here */
#tabs-subcontainer.right,
#tabs-subcontainer.left {
  margin-top: -6px !important; /*You might not want this*/
  min-width: 40px !important;
  max-width: 40px !important;
  transition: min-width 240ms ease-in !important;
  border-radius: 6px;
  transition-delay: 0ms !important;
  background-color: rgba(29, 40, 33, 0.81) !important;
}

/* Adjust expand animation speed of Secondary tabbar here */
#tabs-subcontainer.left:hover,
#tabs-subcontainer.right:hover {
  min-width: 300px !important;
  transition: min-width 150ms ease-out !important;
  margin-top: -6px;
  transition-delay: 0ms !important;
  /*The combined total of the transition and transition-delay time should be less than the corresponding value in the first code block in case you need to adjust animation speed*/
}

/* Tab bar styling */
.tabbar-workspace-button {
  width: 100% !important;
}

/* Overall container of main and secondary tabbar. */
#tabs-tabbar-container.left,
#tabs-tabbar-container.right {
  width: auto !important;
  min-width: 47px;
  border-radius: 6px;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  box-shadow: none !important;
}

/* I hate newtab button. But if you have the opposite opinion,replace below codes with these

.button-toolbar.newtab{
  left: 0px !important;
  width: 150px;
}

And of course you don't need those lockers icon when your tabbar expand on hover so here's how you hide em.

.button-toolbar.tabs-locked,
.button-toolbar.tabs-unlocked {
  display: none !important;
}
*/
.button-toolbar.newtab,
.button-toolbar.tabs-locked,
.button-toolbar.tabs-unlocked {
  display: none !important;
} /* Codeblock to replace of*/

/* ========================================
   HIDE ELEMENTS ON HOVER
   ======================================== */

/*
Codes below is important. Help avoid issue when
1. Create a tab stack
2. Dissolve a tab stack
*/
/* Hide tab-strip when tabs-container is not hovered */
.tab-strip.overflow {
  display: none !important;
}

/* Show tab-strip when tabs-container is hovered */
#tabs-container:hover .tab-strip.overflow {
  display: block !important;
  /*animation: fadeInBlock 300ms ease-out !important;*/
}

/* Animation for smooth appearance when display changes */
/*@keyframes fadeInBlock {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}*/

/* These code hide and show tabs when tabbar hide and expands */
/* Comment these codes if you don't need */
#tabs-container.right:not(:hover) .tab,
#tabs-container.left:not(:hover) .tab,
#tabs-container.right:not(:hover) .tab-position,
#tabs-container.left:not(:hover) .tab-position,
#tabs-container.right:not(:hover) .separator,
#tabs-container.left:not(:hover) .separator {
  opacity: 0 !important;
  pointer-events: none !important;
  transition: opacity 150ms ease-in 300ms !important;
}

#tabs-container.right:hover .tab,
#tabs-container.left:hover .tab,
#tabs-container.right:hover .tab-position,
#tabs-container.left:hover .tab-position,
#tabs-container.right:hover .separator,
#tabs-container.left:hover .separator {
  opacity: 1 !important;
  pointer-events: auto !important;
  transition: opacity 150ms ease-in 0ms !important;
}

/*
In case you place adressfield and some tool button at your tabbar
These code will help you hide them when tabbar hide
and show them when tabbar expand
*/
/* Comment it on your need */
#tabs-container.right:not(:hover) .ToolbarButton-Button,
#tabs-container.left:not(:hover) .ToolbarButton-Button,
#tabs-container.right:not(:hover) .UrlBar-AddressField .toolbar,
#tabs-container.left:not(:hover) .UrlBar-AddressField .toolbar,
#tabs-container.right:not(:hover) .UrlBar-AddressField,
#tabs-container.left:not(:hover) .UrlBar-AddressField,
#tabs-container.right:not(:hover) .UrlBar-AddressField .button-toolbar,
#tabs-container.left:not(:hover) .UrlBar-AddressField .button-toolbar {
  min-width: 0;
  width: 0;
  height: 0;
  padding: 0 !important;
  border: 0 !important;
  overflow: hidden;
  transition:
    min-width 200ms ease-out,
    width 200ms ease-out,
    height 200ms ease-out,
    padding 200ms ease-out !important;
  transition-delay: 300ms !important;
}

/* ========================================
   FLOATING TABBAR
   ======================================== */
/* If you want the expanded tabbar floating on the website instead of squeezing it, just add the following css to the css above */
/* But read the comments before you do */

#main > .inner > div:has(#tabs-tabbar-container.right),
#main > .inner > div:has(#tabs-tabbar-container.left) {
  position: absolute;
  top: 0;
  z-index: 2;
  opacity: 1;
  background-color: transparent !important;
  background-image: none !important;
  height: 100% !important;
}

#main > .inner > div:has(#tabs-tabbar-container.right) {
  right: 0;
}

#main > .inner > div:has(#tabs-tabbar-container.left) {
  left: 0;
}

#browser.transparent-tabbar
  .inner
  > div:has(#tabs-tabbar-container:is(.left, .right)) {
  background-color: transparent !important;
  backdrop-filter: none !important;
}

/*=================== Webpage stack margins - exclude fullscreen 1 ===================*/

/* Uncomment codes below if you're on right tabbar */

#browser:not(.fullscreen) .inner #webpage-stack {
  margin-right: 7px;
}

#browser:not(.fullscreen)
  .inner:has(#tabs-subcontainer:is(.left, .right))
  #webpage-stack {
  margin-right: 47px;
}

#browser:not(.fullscreen) #tabs-tabbar-container.right ~ #webpage-stack {
  margin-left: 0;
  margin-right: 7px;
}

#browser:not(.fullscreen)
  #tabs-tabbar-container.right
  ~ #webpage-stack:has(#tabs-subcontainer.right) {
  margin-right: 47px;
}

/*------------------------------------------------------------------------------------*/

/*=================== Webpage stack margins - exclude fullscreen 2 ===================*/

/* Uncomment codes below if you're on left tabbar */

/*#browser:not(.fullscreen) .inner #webpage-stack {
  margin-left: 7px;
}

#browser:not(.fullscreen)
  .inner:has(#tabs-subcontainer:is(.left, .right))
  #webpage-stack {
  margin-left: 47px;
}

#browser:not(.fullscreen) #tabs-tabbar-container.left ~ #webpage-stack {
  margin-right: 0;
  margin-left: 7px;
}

#browser:not(.fullscreen)
  #tabs-tabbar-container.left
  ~ #webpage-stack:has(#tabs-subcontainer.left) {
  margin-left: 47px;
}*/

/*------------------------------------------------------------------------------------*/
